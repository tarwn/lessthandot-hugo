---
title: BULK INSERT data where the row terminator is a linefeed in SQL Server
author: SQLDenis
type: post
date: 2013-02-14T13:38:00+00:00
ID: 1995
excerpt: 'I like to use BULK INSERT or bcp as much as possible, this is especially true if all I need to do is dump the file into a table. For more complex things I will go the SSIS route. Files are generated by all kinds of systems these days, these can be Windo&hellip;'
url: /index.php/datamgmt/dbadmin/mssqlserveradmin/bulk-insert-data-where-the/
views:
  - 40140
rp4wp_auto_linked:
  - 1
categories:
  - Business Intelligence
  - Microsoft SQL Server Admin
tags:
  - bcp
  - bulk insert
  - files
  - import
  - sql server 2005
  - sql server 2008
  - sql server 2012

---
I like to use BULK INSERT or bcp as much as possible, this is especially true if all I need to do is dump the file into a table. For more complex things I will go the SSIS route. Files are generated by all kinds of systems these days, these can be Windows, *nix, Mac, Amiga and other systems. 

Make sure to use something other than notepad when dealing with these files and you want to look at them. Notepad++ or Editplus have more functionality and are many times faster than notepad. The nice thing about either of these is that you can see control characters.

See how you can see the linefeeds here? Can't do that in notepad

<div class="image_block">
  <a href="/wp-content/uploads/blogs/DataMgmt/Denis/LineFeedFile.PNG?mtime=1360855487"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/Denis/LineFeedFile.PNG?mtime=1360855487" width="421" height="223" /></a>
</div>

So let's say you get a file where the row terminator is a linefeed, how would you specify that as a row terminator in BULK INSERT?

You can try newline

sql
BULK INSERT SomeTable
   FROM 'D:JunkdrawImportMe.txt'
   WITH (FIELDTERMINATOR = 't',
         FIRSTROW =2,
         ROWTERMINATOR = 'n')
```

Nope, that doesn't work, you get 0 rows inserted

You can try carriage return

sql
BULK INSERT SomeTable
   FROM 'D:JunkdrawImportMe.txt'
   WITH (FIELDTERMINATOR = 't',
         FIRSTROW =2,
         ROWTERMINATOR = 'r')
```

Nope, that doesn't work either, you get 0 rows inserted

What about l for linefeed?

sql
BULK INSERT SomeTable
   FROM 'D:JunkdrawImportMe.txt'
   WITH (FIELDTERMINATOR = 't',
         FIRSTROW =2,
         ROWTERMINATOR = 'l')
```

You get an error

Msg 4864, Level 16, State 1, Line 1
  
Bulk load data conversion error (type mismatch or invalid character for the specified codepage) for row 2, column 1 (SomeDate).

What about if you try a CHAR(10) which is a linefeed

sql
BULK INSERT SomeTable
   FROM 'D:JunkdrawImportMe.txt'
   WITH (FIELDTERMINATOR = 't',
         FIRSTROW =2,
         ROWTERMINATOR = CHAR(10) )
```

You get this error
  
Msg 102, Level 15, State 1, Line 5
  
Incorrect syntax near 'CHAR'.

Mmm, what if you embed it from within Dynamic SQL

sql
DECLARE @cmd varchar(1000)
SET @cmd = 'BULK INSERT SomeTable
FROM ''D:JunkdrawImportMe.txt''
WITH (      FIELDTERMINATOR = ''t'',
            FIRSTROW =2,
            ROWTERMINATOR = '''+CHAR(10)+''')'
EXEC(@cmd)
```

Bingo, that works. Keep this in mind next time you get a file with a linefeed and you are struggling importing that file